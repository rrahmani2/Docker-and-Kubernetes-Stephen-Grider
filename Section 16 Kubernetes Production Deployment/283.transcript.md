### Notes: Updating and Redeploying the Application

**Objective:**
Implement a workflow for updating a deployed React application managed through GitHub, Travis CI, and Kubernetes.

---

### 1. **Update Workflow Overview**

* The update process is identical to initial deployment.
* Goal: Ensure a clear, consistent workflow for applying and deploying changes.

**Steps Summary:**

1. Create and switch to a new Git branch.
2. Make changes locally.
3. Commit and push the branch to GitHub.
4. Open a Pull Request (PR) to merge into `master`.
5. Wait for Travis CI to:

   * Run tests on the branch and PR.
   * Deploy to Kubernetes **only after merge into master**.
6. Merge PR → Travis redeploys the updated app.

---

### 2. **Branch Creation**

```bash
git checkout -b devel
```

* `devel` branch is used for development changes.
* All updates are made here before merging into `master`.

---

### 3. **Code Modification**

* Navigate to `client/src/App.js`.
* Modify the `<h1>` tag:

  ```jsx
  <h1>Fit Calculator Version Kubernetes</h1>
  ```
* Save the file.

---

### 4. **Commit and Push Changes**

```bash
git status        # Verify modified files
git add .         # Stage changes
git commit -m "Updated app header to show version Kubernetes"
git push origin devel
```

---

### 5. **Create Pull Request (PR)**

* Go to the project’s **GitHub repository** → `Pull requests` tab.
* Click **New Pull Request**.
* Set:

  * **Base branch:** `master`
  * **Compare branch:** `devel`
* Add an optional description, e.g.:

  > Changed header text in `App.js` file.
* Click **Create Pull Request**.

---

### 6. **Travis CI Integration**

* Travis CI runs tests automatically for:

  * Every branch push.
  * Every new PR.
* Only **deploys to production** after merging into `master`.

**Optional configuration:**

* Travis can be set to run only on PR creation instead of every branch push (personal preference).

---

### 7. **Next Step**

* Wait for both Travis CI builds (branch + PR) to complete successfully.
* Once green, merge the PR → triggers a second Travis CI run → redeploys updated code to the Kubernetes cluster.

---

**End Result:**
After merge and redeployment, the application should display “Fit Calculator Version Kubernetes” in production.
