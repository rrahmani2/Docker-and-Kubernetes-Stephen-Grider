### **Synopsis**

This section explains how to start containers using Docker Compose. Instead of running separate `docker build` and `docker run` commands, you use `docker-compose up` to build (if needed) and start all services defined in the `docker-compose.yml` file. Docker Compose also automatically sets up a network connecting the containers, allowing them to communicate using service names.

---

### **Details**

1. **Starting Containers with Docker Compose**

   * Command:

     ```bash
     docker-compose up
     ```
   * Docker Compose automatically looks for a `docker-compose.yml` file in the current directory.
   * It builds any images that don’t exist and starts all services defined in the file.

2. **Rebuilding Images**

   * If you’ve changed the Dockerfile or source code and want to rebuild, use:

     ```bash
     docker-compose up --build
     ```
   * This ensures the latest changes are included before starting the containers.

3. **Automatic Networking**

   * Docker Compose automatically creates a network (e.g., `visits_default`) to connect all services.
   * Containers can communicate using the service name as the host.

4. **Observing Output**

   * Logs from all services are displayed in the terminal.
   * Yellow lines indicate Redis output, standard lines indicate Node app output.

5. **Accessing the Node App**

   * Port mapping is defined in the Compose file. Example:

     ```
     ports:
       - "4001:8081"
     ```
   * Access the app at `http://localhost:4001`.
   * Each page refresh increments the visit count stored in Redis.

6. **Service Name as Host**

   * Inside the Node.js app, the Redis client connects to Redis using the service name:

     ```javascript
     const client = redis.createClient({ host: "redis-server", port: 6379 });
     ```
   * Docker resolves `redis-server` to the correct container automatically.

7. **Key Takeaways**

   * Docker Compose simplifies starting multiple containers.
   * Networking between containers is automatic.
   * Use service names to connect containers instead of manually specifying IPs.
