### **Synopsis**

This section introduces **Docker Compose** as a way to automate container creation and networking. Instead of running separate `docker build` and `docker run` commands for multiple containers, you define all your containers (services) in a single `docker-compose.yml` file. The instructor walks through the structure of this file and explains how to define a Redis container and a Node.js application container, including port mappings and build instructions.

---

### **Details**

1. **Purpose of Docker Compose**

   * Automates repetitive Docker CLI commands (`docker build`, `docker run`).
   * Easily starts multiple containers together.
   * Automatically sets up networking between containers.

2. **Docker Compose file (`docker-compose.yml`)**

   * Special YAML file that describes all the services (containers) you want to run.
   * Each service is essentially a container (or type of container).
   * Docker Compose CLI parses this file to create and run containers.

3. **Structure of the file**

   ```yaml
   version: '3'  # specifies Docker Compose version

   services:
     redis-server:
       image: redis  # uses official Redis image

     node-app:
       build: .      # builds image from Dockerfile in current directory
       ports:
         - "4001:8081"  # maps port 4001 on host to 8081 in container
   ```

   * `services`: declares all the containers (services) you want to run.
   * `redis-server`: uses a prebuilt Redis image from Docker Hub.
   * `node-app`: builds from the local Dockerfile.
   * `ports`: maps host ports to container ports (host:container).

4. **Key Notes**

   * YAML uses indentation to define structure; arrays use `-`.
   * Multiple ports can be mapped by adding more entries under `ports`.
   * The Node.js app container will now have access to the Redis container automatically through Docker Compose networking.

5. **Next Steps**

   * Use the Docker Compose CLI to bring up both containers at once.
   * Test that the Node.js app can connect to Redis successfully.
