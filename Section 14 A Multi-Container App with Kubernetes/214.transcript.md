### Multi-Server (Express API) Deployment Configuration

**Objective:**
Create a Kubernetes Deployment for the **multi-server (Express API)** image, ensuring it runs as a backend service inside the cluster and is later exposed via a ClusterIP service.

---

### 1. Deployment Purpose

The **multi-server** image (Express API) handles backend logic and communicates with Redis and Postgres.
It should **not** be directly exposed to the internet — only other internal components (like the Ingress controller) should access it.
Hence, this deployment will later be paired with a **ClusterIP** service.

---

### 2. Key Notes

* The container listens on **port 5000** (hardcoded inside the image).
* The ClusterIP service will also use **port 5000 → 5000** mapping.
* Three replicas are used for redundancy and load distribution.
* Environment variables for Postgres and Redis will be added later.

---

### 3. Deployment YAML (`server-deployment.yaml`)

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: server-deployment
spec:
  replicas: 3
  selector:
    matchLabels:
      component: server
  template:
    metadata:
      labels:
        component: server
    spec:
      containers:
        - name: server
          image: <your-dockerhub-username>/multi-server
          ports:
            - containerPort: 5000
```

**Explanation:**

* **replicas: 3** → Creates three identical pods running the Express API.
* **matchLabels/component: server** → Ties deployment to pods with the same label.
* **containerPort: 5000** → Opens port 5000 for the Express app within each container.
* **image:** Replace `<your-dockerhub-username>` with your actual Docker Hub ID.

---

### 4. Next Steps

In the following section:

* Create a **ClusterIP service** named `server-cluster-ip-service.yaml`.
* Configure it to forward internal cluster traffic on port **5000 → 5000** to the Express pods.
* Afterward, environment variables for Postgres and Redis connections will be added to this deployment.

---

**Result:**
A basic `server-deployment.yaml` that defines the Express API backend pods running internally in the cluster, ready to be connected via a ClusterIP service.
