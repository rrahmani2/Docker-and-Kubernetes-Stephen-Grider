### Tutor Notes — Migrating the Multi-Container Fibonacci App to Kubernetes

#### Overview

* Objective: Migrate the **multi-container Fibonacci application** (multi-client, multi-server, Redis, Postgres, and worker) into a **Kubernetes-based architecture**.
* Development will begin on a **single local node (Minikube)** and later expand to **multi-node cloud deployment** (AWS or GCP).

---

### 1. Current Understanding

We already know the fundamentals:

* **Pods** – smallest deployable units in Kubernetes.
* **Deployments** – manage replicas of pods.
* **Services (ClusterIP)** – expose pods internally within the cluster.

---

### 2. Application Components in Kubernetes

Each component from the existing app will be represented as a **deployment + service pair** in Kubernetes.

| Component    | Type                         | Description              |
| ------------ | ---------------------------- | ------------------------ |
| Multi-Client | Deployment + ClusterIP       | React frontend           |
| Multi-Server | Deployment + ClusterIP       | Express API backend      |
| Redis        | Deployment + ClusterIP       | Caching service          |
| Postgres     | Deployment + ClusterIP + PVC | Persistent database      |
| Worker       | Deployment only              | Background job processor |

Additional components:

* **Ingress Service** – external entry point replacing NodePort; routes external HTTP requests to internal services.
* **PVC (Persistent Volume Claim)** – ensures Postgres data persists across pod restarts.

---

### 3. Local to Cloud Migration Path

Development flow:

1. **Local setup**

   * Create and test all Kubernetes config files on Minikube.
   * Validate inter-service communication and data persistence.
2. **Build & Deploy Pipeline**

   * Create a **GitHub + Travis CI** pipeline (or similar CI/CD).
   * Automate image builds, pushes to Docker Hub, and deployments to the cluster.
3. **Production Deployment**

   * Deploy to a managed Kubernetes provider (AWS EKS, GKE, etc.).
   * Scale from single node to multi-node configuration.

---

### 4. Configuration Plan

Approx. **10–12 YAML configuration files** will be created:

* **Deployments**: 5 (client, server, worker, Redis, Postgres)
* **Services (ClusterIP)**: 4
* **Ingress**: 1
* **Persistent Volume Claim (PVC)**: 1
  Each file defines desired state and connectivity between components.

---

### 5. Summary of New Kubernetes Concepts

| Term                              | Definition                               | Role                                                 |
| --------------------------------- | ---------------------------------------- | ---------------------------------------------------- |
| **Ingress**                       | Routes external traffic into the cluster | Replaces NodePort, used for production-grade routing |
| **ClusterIP**                     | Default internal service type            | Enables pod-to-pod communication                     |
| **PVC (Persistent Volume Claim)** | Requests persistent storage for pods     | Ensures data retention for Postgres                  |

---

### 6. Next Steps

* Return to the **multi-container (complex)** project directory.
* Begin writing **Kubernetes config files** for each component.
* Test locally on Minikube before setting up CI/CD for cloud deployment.
