# **Tutor Notes: Understanding `apiVersion` and `kind` in Kubernetes YAML Files**

---

## **Objective**

Explain the meaning and purpose of the first two lines in Kubernetes configuration files:
`apiVersion` and `kind`.

---

## **1. Context**

Two configuration files were previously created:

* `client-pod.yml`
* `client-node-port.yml`

Each file starts with:

```yaml
apiVersion: v1
kind: Pod
```

and

```yaml
apiVersion: v1
kind: Service
```

These two fields define **what type of Kubernetes object** the file describes and **which API group/version** it belongs to.

---

## **2. Kubernetes Objects**

* A **Kubernetes object** is a persistent entity in the cluster representing a desired state.
* Configuration files define objects, which are then submitted to the cluster using `kubectl`.
* When applied (`kubectl apply -f <file>`), Kubernetes creates the specified objects.

### **Examples of Object Types**

| Category      | Example Object          | Purpose                         |
| ------------- | ----------------------- | ------------------------------- |
| Workload      | Pod                     | Runs one or more containers     |
| Workload      | StatefulSet             | Manages stateful applications   |
| Workload      | ReplicaSet / Deployment | Ensures desired number of Pods  |
| Networking    | Service                 | Exposes Pods to network traffic |
| Configuration | ConfigMap / Secret      | Stores configuration data       |

> Each configuration file’s `kind` field defines **which type of object** will be created.

---

## **3. `kind` Field**

* Defines **the specific object type** to create in the cluster.
* Example:

  * In `client-pod.yml` → `kind: Pod` → creates a **Pod** object (runs a container).
  * In `client-node-port.yml` → `kind: Service` → creates a **Service** object (provides networking to access the Pod).

### **Common Object Functions**

| Object Type | Purpose                                                         |
| ----------- | --------------------------------------------------------------- |
| Pod         | Runs a single container or group of tightly coupled containers. |
| Service     | Provides stable networking access to Pods.                      |
| Deployment  | Manages and updates sets of identical Pods.                     |
| StatefulSet | Maintains identity and storage for stateful workloads.          |

---

## **4. `apiVersion` Field**

* Defines **which API group and version** the object belongs to.
* Determines **which object types** can be used in the file.

### **Example:**

`apiVersion: v1`

* Allows creation of object types like:

  * `Pod`
  * `Service`
  * `ConfigMap`
  * `Namespace`
  * `Endpoints`

`apiVersion: apps/v1`

* Allows creation of objects like:

  * `Deployment`
  * `StatefulSet`
  * `ReplicaSet`

---

## **5. Selecting the Correct API Version**

1. Decide the **object type** needed (`Pod`, `Service`, `Deployment`, etc.).
2. Look up which API group/version supports that object.
3. Use that API version in the configuration file.

### **Example Process**

* Goal: Run a container → Need a `Pod`.
* Lookup: The `Pod` object belongs to API group `core` → `apiVersion: v1`.
* Therefore:

  ```yaml
  apiVersion: v1
  kind: Pod
  ```

---

## **6. Practical Application**

* Each YAML file defines **one or more objects**.
* Example workflow:

  ```bash
  kubectl apply -f client-pod.yml
  kubectl apply -f client-node-port.yml
  ```

  These commands instruct Kubernetes to create:

  * A **Pod** (runs the container).
  * A **Service** (exposes the Pod to external access).

---

## **7. Summary**

| Concept    | Description                                                                 |
| ---------- | --------------------------------------------------------------------------- |
| Object     | A Kubernetes resource defined in YAML that represents a cluster entity.     |
| kind       | Specifies the type of object (e.g., Pod, Service).                          |
| apiVersion | Determines which group/version of the Kubernetes API the object belongs to. |
| Pod        | Runs a container.                                                           |
| Service    | Provides network access to Pods.                                            |

---

**Next Topic:**
Detailed explanation of what a **Pod** is, its structure, and how it runs containers inside the cluster.
