Here’s the same content rewritten as **direct technical tutor notes** — no filler, no narrative tone, and no commentary. It’s concise and instructional, while retaining every technical detail.

---

# **Kubernetes: Deploying the First Container**

## **Goal**

* Verify the Docker image on Docker Hub.
* Create `client-pod.yml` and `client-node-port.yml`.
* Deploy and verify on a local Kubernetes cluster.

---

## **1. Verify Image on Docker Hub**

1. Go to [hub.docker.com](https://hub.docker.com).
2. Confirm the repository for the image `your-docker-id/multi-client` exists.
3. If not available, use `stephengrider/multi-client`.

---

## **2. Create Project Directory**

```bash
mkdir simple-k8s
cd simple-k8s
```

Open the directory in a code editor.
“K8s” is shorthand for Kubernetes, where the “8” represents the eight letters between “K” and “s”.

---

## **3. Pod Configuration**

**File:** `client-pod.yml`

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: client-pod
  labels:
    component: web
spec:
  containers:
    - name: client
      image: your-docker-id/multi-client:latest
      ports:
        - containerPort: 3000
```

**Explanation:**

* `apiVersion`: API version used by Kubernetes objects.
* `kind`: Type of object, here a `Pod`.
* `metadata`: Identifying data — `name` and `labels`.
* `spec`: Pod specification.
* `containers`: List of containers to run inside the Pod.
* `image`: Docker Hub image name and tag.
* `containerPort`: Port exposed by the container.

**Notes:**

* Indentation and spacing must be exact.
* Incorrect indentation or missing hyphens (`-`) cause YAML parsing errors.
* Ensure the image name matches the repository.

---

## **4. Service Configuration**

**File:** `client-node-port.yml`

```yaml
apiVersion: v1
kind: Service
metadata:
  name: client-node-port
spec:
  type: NodePort
  selector:
    component: web
  ports:
    - port: 3050
      targetPort: 3000
      nodePort: 31515
```

**Explanation:**

* `type: NodePort`: Exposes the service externally via a static port on each node.
* `selector`: Matches Pods with `component: web` label.
* `ports`: Defines port mappings:

  * `port`: Cluster-internal service port.
  * `targetPort`: Port on the container inside the Pod.
  * `nodePort`: External port (range 30000–32767).

Example mapping:
External access through `31515` → Service port `3050` → Container port `3000`.

---

## **5. Apply Configuration**

```bash
kubectl apply -f client-pod.yml
kubectl apply -f client-node-port.yml
```

**Verify:**

```bash
kubectl get pods -l component=web
kubectl get svc client-node-port
```

**For Minikube:**

```bash
minikube service client-node-port --url
```

Expected: URL or IP address with port `31515` to access the running container.

---

## **6. Troubleshooting**

| **Issue**              | **Cause**                    | **Resolution**                                 |
| ---------------------- | ---------------------------- | ---------------------------------------------- |
| YAML parse error       | Incorrect indentation        | Fix spacing or hyphen alignment                |
| `ImagePullBackOff`     | Wrong or private image       | Verify Docker Hub repository or make it public |
| No endpoints           | Label mismatch               | Ensure both files use `component: web`         |
| NodePort not reachable | Firewall or networking issue | Open port `31515` or use Minikube tunnel       |

---

## **Concept Summary**

* **Pod**: The running instance of the container image.
* **Service (NodePort)**: Provides external access to the Pod.
* `client-pod.yml` and `client-node-port.yml` together form the minimal configuration for deploying and exposing an application on Kubernetes.

---

Do you want a **short version** (one-page command + config reference sheet) for classroom handouts next?
